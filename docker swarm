---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
На мастере

docker swarm init - настрйока мастера кластера docker swarm
docker swarm join-token worker - показать токен для подключения

docker swarm join --token SWMTKN-1-2dpke0q2lev6hda2ye1hv5r6aeucvrvp8upl3gdvs9e3tc8juu-2lhp8x3xyjcl8ubhr1y19lopr 172.16.100.62:2377
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------

docker node ls показать параметры кластера
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
docker service create --name=visualizer --publish=8088:8080/tcp --constraint=node.role==manager --mount=type=bind,src=/var/run/docker.sock,dst=/var/run/docker.sock dockersamples/visualizer
--name= ... имя сервиса
--publish= (-p тоже самое)
--constraint=node.role==manager ---- будет исполнятся только на manager ( главный ) 
--mount=type=bind,  -----   (тип папка)
src= (откуда)
dst= (куда)
dockersamples/visualizer (путь файл visualizer)

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
																						
docker run --detach --name some-mariadb --env MARIADB_USER=example-user --env MARIADB_PASSWORD=my_cool_secret --env MARIADB_ROOT_PASSWORD=my-secret-pw  mariadb:latest           

docker service create --name mariadb --network net1 --env MARIADB_ROOT_PASSWORD=P@ssw0rd  mariadb:10.5
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
docker service create --name phpmyadmin --network net1 -e PMA_HOST=mariadb -p 8080:80 --replicas=3 phpmyadmin

--replicas=3 ( разделение потоков на реплики )
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
docker network create --driver overlay net1      ----- для всех контейнеров нужна сеть overlay

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
docker service update --replicas=1 phpmyadmin
